# Internacionalizaci√≥n (i18n) / Internationalization

Este proyecto est√° configurado para soportar m√∫ltiples idiomas usando Angular i18n.
This project is configured to support multiple languages using Angular i18n.

## Idiomas Disponibles / Available Languages

- üá∫üá∏ **Ingl√©s (English)** - `en-US` (idioma por defecto / default language)
- üá≤üáΩ **Espa√±ol M√©xico (Mexican Spanish)** - `es-MX`

## Desarrollo / Development

### Iniciar servidor en ingl√©s / Start server in English
```bash
npm start
```

### Iniciar servidor en espa√±ol / Start server in Spanish
```bash
npm run start:es
```

Esto iniciar√° el servidor de desarrollo en `http://localhost:4200` con el idioma seleccionado.
This will start the development server at `http://localhost:4200` with the selected language.

## Construcci√≥n / Build

### Construir todas las versiones / Build all versions
```bash
npm run build
```

Esto crear√° dos versiones de la aplicaci√≥n en `dist/secret-santa/browser/`:
This will create two versions of the application in `dist/secret-santa/browser/`:
- `en-US/` - Versi√≥n en ingl√©s / English version
- `es-MX/` - Versi√≥n en espa√±ol / Spanish version

### Construir solo espa√±ol / Build Spanish only
```bash
npm run build:es
```

## Agregar Nuevas Traducciones / Adding New Translations

### 1. Marcar texto en las plantillas / Mark text in templates

Para marcar texto que debe traducirse, usa el atributo `i18n`:
To mark text that should be translated, use the `i18n` attribute:

```html
<h1 i18n="@@uniqueId">Text to translate</h1>
<p i18n>Another text</p>
<button i18n-title title="Button title">Click</button>
<input i18n-placeholder placeholder="Enter text">
```

### 2. Extraer mensajes / Extract messages

Despu√©s de agregar marcadores i18n, ejecuta:
After adding i18n markers, run:

```bash
npm run extract-i18n
```

Esto actualizar√° el archivo `src/locale/messages.xlf` con los nuevos textos.
This will update the `src/locale/messages.xlf` file with the new texts.

### 3. Actualizar traducci√≥n al espa√±ol / Update Spanish translation

Abre `src/locale/messages.es-MX.xlf` y agrega las traducciones correspondientes:
Open `src/locale/messages.es-MX.xlf` and add the corresponding translations:

```xml
<trans-unit id="uniqueId" datatype="html">
  <source>Text to translate</source>
  <target>Texto a traducir</target>
</trans-unit>
```

### 4. Probar cambios / Test changes

```bash
npm run start:es
```

## Estructura de Archivos / File Structure

```
src/
‚îú‚îÄ‚îÄ locale/
‚îÇ   ‚îú‚îÄ‚îÄ messages.xlf       # Archivo fuente (ingl√©s) / Source file (English)
‚îÇ   ‚îî‚îÄ‚îÄ messages.es-MX.xlf # Traducci√≥n al espa√±ol / Spanish translation
```

## Agregar un Nuevo Idioma / Adding a New Language

1. **Actualizar `angular.json`:**

```json
"i18n": {
  "sourceLocale": "en-US",
  "locales": {
    "es-MX": {
      "translation": "src/locale/messages.es-MX.xlf",
      "baseHref": "/es/"
    },
    "fr": {
      "translation": "src/locale/messages.fr.xlf",
      "baseHref": "/fr/"
    }
  }
}
```

2. **Crear archivo de traducci√≥n:**

Copia `src/locale/messages.es-MX.xlf` a `src/locale/messages.fr.xlf` y traduce los textos.
Copy `src/locale/messages.es-MX.xlf` to `src/locale/messages.fr.xlf` and translate the texts.

3. **Agregar script en `package.json`:**

```json
"start:fr": "ng serve --configuration=development --localize=fr"
```

## Despliegue / Deployment

Al desplegar, considera una de estas estrategias:
When deploying, consider one of these strategies:

### Opci√≥n 1: Servir m√∫ltiples versiones / Option 1: Serve multiple versions

Configura tu servidor para servir la versi√≥n apropiada bas√°ndose en:
Configure your server to serve the appropriate version based on:
- La URL (ej., `/es/` para espa√±ol) / URL (e.g., `/es/` for Spanish)
- El header `Accept-Language` del navegador / Browser's `Accept-Language` header

### Opci√≥n 2: Construir una versi√≥n espec√≠fica / Option 2: Build specific version

Para servir solo un idioma:
To serve only one language:

```bash
npm run build:es
```

Y despliega solo la carpeta `dist/secret-santa/browser/es-MX/`.
And deploy only the `dist/secret-santa/browser/es-MX/` folder.

## Referencias / References

- [Angular i18n Guide](https://angular.dev/guide/i18n)
- [XLIFF Format](https://en.wikipedia.org/wiki/XLIFF)
